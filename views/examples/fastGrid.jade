extends ../layout

block append link
  link(rel='stylesheet', href='/scripts/widgets/fastGrid/fastGrid.css')
  style
    .wrapper{
      width: 600px;
      margin:40px auto;
    }
    .btnPrice{
      display: block;
      width: 16px;
      height: 16px;
      margin: 0px auto;
      background: url(../images/botton_g1.gif) no-repeat;
    }
    .btnPrice.selected{
      background: url(../images/botton_g2.gif) no-repeat;
    }
    .btnDeep{
      display: block;
      width: 16px;
      height: 16px;
      margin: 0px auto;
      background: url(../images/botton_g4.gif) no-repeat;
    }
    .btnDeep.selected{
      background: url(../images/botton_g3.gif) no-repeat;
    }
    .btnCal{
      display: block;
      width: 17px;
      height: 17px;
      margin: 0px auto;
      background: url(../images/rl.png) no-repeat;
    }
    .btnCal.selected{
      background: url(../images/rl1.png) no-repeat;
    }
block content
  div.wrapper
    table#hotTable

  div.wrapper
    div.fastGrid(style='width: 400px;height: 256px')
      div.headWrapper(style='width: 446px;')
        table.tableHead
         thead
           tr
             th(style='width: 100px;') 股票代码
             th(style='width: 100px;') 股票名称
             th(style='width: 80px;') 开盘价
             th(style='width: 80px;') 收盘价
             th(style='width: 80px;') 涨跌幅

      div.bodyWrapper
        table.tableBody
          tbody
            tr
              td 600000
              td 浦发银行
              td 12.22
              td 12.53
              td 2.15%

block append script
  script(src='/scripts/widgets/fastGrid/fastGrid.js')
  script
    $(document).ready(function(){
      $('#hotTable').fastGrid({
        width: '500px',
        height: 256,
        cols: [
          {title:'行情', name:'', width: 40, renderer: function(val,item,items,$row,rowIndex){
            var $a = $('<a href="#" class="btnPrice"></a>').hover(function (e) {
              $(this).toggleClass('selected', e.type === 'mouseenter');
            });
            return $a;
          }},
          {title:'名称', name:'', width: 120, renderer: function(val,item){
            return item.secuAbbr + ' ' + item.secuCode;
          }},
          {title:'最新价', name:'newPrice', width: 80, renderer: function(val,item){
            if(item.range > 0){
              return '<span style="color: #b00">' + val + '</span>';
            }else if(item.range < 0){
              return '<span style="color: #0b0">' + val + '</span>';
            }
            return val;
          }},
          {title:'买入价', name:'inPrice', width: 80},
          {title:'涨跌幅%', name:'range', width: 80, renderer: function(val,item){
            if(item.range > 0){
              return '<span style="color: #b00">' + val + '</span>';
            }else if(item.range < 0){
              return '<span style="color: #0b0">' + val + '</span>';
            }
            return val;
          }},
          {title:'市值', name:'marketValue', width: 80},
          {title:'深度', name:'', width: 50, renderer: function(val,item,items,$row,rowIndex){
            var $a = $('<a href="#" class="btnDeep"></a>').hover(function (e) {
              $(this).toggleClass('selected', e.type === 'mouseenter');
            });
            return $a;
          }},
          {title:'日历', name:'', width: 50, renderer: function(val,item,items,$row,rowIndex){
            var $a = $('<a href="#" class="btnCal"></a>').hover(function (e) {
              $(this).toggleClass('selected', e.type === 'mouseenter');
            });
            return $a;
          }}
        ],
        items: [
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:0.21 ,marketValue: '5.38万'},
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:0.21 ,marketValue: '5.38万'},
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:-0.21 ,marketValue: '5.38万'},
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:0.21 ,marketValue: '5.38万'},
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:-0.215 ,marketValue: '5.38万'},
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:0.215 ,marketValue: '5.38万'},
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:0.215 ,marketValue: '5.38万'},
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:0.215 ,marketValue: '5.38万'},
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:0.215 ,marketValue: '5.38万'},
          {secuCode:'600000', secuAbbr:'浦发银行', newPrice:12.22, inPrice:12.52, range:0.215 ,marketValue: '5.38万'}

        ]
      });
    });